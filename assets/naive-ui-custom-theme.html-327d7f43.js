import{_ as c,r as o,o as l,c as i,d as s,e as n,b as a,w as u,f as r,a as p}from"./app-1631cab8.js";const k={},d=s("h1",{id:"naive-ui-动态自定义换肤实现",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#naive-ui-动态自定义换肤实现","aria-hidden":"true"},"#"),n(" Naive UI 动态自定义换肤实现")],-1),v={href:"https://www.naiveui.com/zh-CN/os-theme",target:"_blank",rel:"noopener noreferrer"},m=s("h2",{id:"思路分析",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#思路分析","aria-hidden":"true"},"#"),n(" 思路分析")],-1),g={href:"https://www.naiveui.com/zh-CN/light/docs/customize-theme",target:"_blank",rel:"noopener noreferrer"},b=s("code",null,"n-config-provider",-1),q=s("code",null,"theme-overrides",-1),h=p(`<div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> NConfigProvider<span class="token punctuation">,</span> GlobalThemeOverrides <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;naive-ui&#39;</span>

<span class="token keyword">const</span> <span class="token literal-property property">themeOverrides</span><span class="token operator">:</span> GlobalThemeOverrides <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">common</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">primaryColor</span><span class="token operator">:</span> <span class="token string">&#39;#FF0000&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">Button</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">textColor</span><span class="token operator">:</span> <span class="token string">&#39;#FF0000&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-config-provider</span> <span class="token attr-name">:theme-overrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>themeOverrides<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-app</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-config-provider</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过上面的代码可以得知全局通用的样式可以在<code>themeOverrides.common</code>中指定，如上所示的<code>primaryColor</code>，而且<code>themeOverrides</code>中还支持按组件单独设置样式，如<code>Button</code>，这里我们可以忽略组件样式的单独设置，只需要关注<code>common</code>即可。</p>`,2),y=s("code",null,"themeOverrides.common",-1),f={href:"https://www.naiveui.com/zh-CN/light/docs/theme",target:"_blank",rel:"noopener noreferrer"},C=s("code",null,"useThemeVars",-1),w=p(`<details class="hint-container details"><summary>点击查看主题变量</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;common&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontFamily&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v-sans, system-ui, -apple-system, BlinkMacSystemFont, \\&quot;Segoe UI\\&quot;, sans-serif, \\&quot;Apple Color Emoji\\&quot;, \\&quot;Segoe UI Emoji\\&quot;, \\&quot;Segoe UI Symbol\\&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontFamilyMono&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontWeight&quot;</span><span class="token operator">:</span> <span class="token string">&quot;400&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontWeightStrong&quot;</span><span class="token operator">:</span> <span class="token string">&quot;500&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cubicBezierEaseInOut&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cubic-bezier(.4, 0, .2, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cubicBezierEaseOut&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cubic-bezier(0, 0, .2, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cubicBezierEaseIn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cubic-bezier(.4, 0, 1, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borderRadius&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borderRadiusSmall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontSizeMini&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontSizeTiny&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontSizeSmall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontSizeMedium&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontSizeLarge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fontSizeHuge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;lineHeight&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.6&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;heightMini&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;heightTiny&quot;</span><span class="token operator">:</span> <span class="token string">&quot;22px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;heightSmall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;28px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;heightMedium&quot;</span><span class="token operator">:</span> <span class="token string">&quot;34px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;heightLarge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;40px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;heightHuge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;46px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;baseColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#FFF&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;primaryColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#18a058&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;primaryColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#36ad6a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;primaryColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#0c7a43&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;primaryColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#36ad6a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;infoColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#2080f0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;infoColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#4098fc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;infoColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#1060c9&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;infoColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#4098fc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#18a058&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#36ad6a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#0c7a43&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#36ad6a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;warningColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#f0a020&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;warningColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fcb040&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;warningColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#c97c10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;warningColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fcb040&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#d03050&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#de576d&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#ab1f3f&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#de576d&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;textColorBase&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;textColor1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(31, 34, 37)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;textColor2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(51, 54, 57)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;textColor3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(118, 124, 130)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;textColorDisabled&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(194, 194, 194, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;placeholderColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(194, 194, 194, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;placeholderColorDisabled&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(209, 209, 209, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iconColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(194, 194, 194, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iconColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(146, 146, 146, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iconColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(175, 175, 175, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iconColorDisabled&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(209, 209, 209, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;opacity1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.82&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;opacity2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.72&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;opacity3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.38&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;opacity4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.24&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;opacity5&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.18&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dividerColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(239, 239, 245)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borderColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(224, 224, 230)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;closeIconColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(102, 102, 102, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;closeIconColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(102, 102, 102, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;closeIconColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(102, 102, 102, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;closeColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 0, .09)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;closeColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 0, .13)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;clearColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(194, 194, 194, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;clearColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(146, 146, 146, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;clearColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(175, 175, 175, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scrollbarColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 0, 0.25)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scrollbarColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 0, 0.4)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scrollbarWidth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scrollbarHeight&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scrollbarBorderRadius&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5px&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;progressRailColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(235, 235, 235, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;railColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(219, 219, 223)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;popoverColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tableColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cardColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;modalColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bodyColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tagColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#eee&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avatarColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(204, 204, 204, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;invertedColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(0, 20, 40)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;inputColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(255, 255, 255, 1)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;codeColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(244, 244, 248)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tabColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(247, 247, 250)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;actionColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(250, 250, 252)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tableHeaderColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(250, 250, 252)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hoverColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(243, 243, 245)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tableColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 100, 0.03)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tableColorStriped&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 100, 0.02)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pressedColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(237, 237, 239)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;opacityDisabled&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;inputColorDisabled&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgb(250, 250, 252)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buttonColor2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(46, 51, 56, .05)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buttonColor2Hover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(46, 51, 56, .09)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buttonColor2Pressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rgba(46, 51, 56, .13)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;boxShadow1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;boxShadow2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;boxShadow3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,1),_={href:"https://github.com/tusen-ai/naive-ui/blob/main/src/_styles/common/light.ts",target:"_blank",rel:"noopener noreferrer"},x=p(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 主题色相关</span>
  <span class="token property">&quot;primaryColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#18a058&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;primaryColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#36ad6a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;primaryColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#0c7a43&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;primaryColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#36ad6a&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// Info颜色相关</span>
  <span class="token property">&quot;infoColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#2080f0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;infoColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#4098fc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;infoColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#1060c9&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;infoColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#4098fc&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// Success颜色相关</span>
  <span class="token property">&quot;successColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#18a058&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#36ad6a&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#0c7a43&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#36ad6a&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// Warning颜色相关</span>
  <span class="token property">&quot;warningColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#f0a020&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;warningColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fcb040&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;warningColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#c97c10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;warningColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fcb040&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// Error颜色相关</span>
  <span class="token property">&quot;errorColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#d03050&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorColorHover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#de576d&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorColorPressed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#ab1f3f&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errorColorSuppl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#de576d&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所以我们自定义主题的时候只需要通过<code>theme-overrides</code>传入这些颜色的变量即可。</p><h2 id="颜色获取" tabindex="-1"><a class="header-anchor" href="#颜色获取" aria-hidden="true">#</a> 颜色获取</h2>`,3),S=s("code",null,"ColorHover",-1),T=s("code",null,"ColorPressed",-1),P=s("code",null,"ColorSuppl",-1),O={href:"https://github.com/ant-design/ant-design-colors",target:"_blank",rel:"noopener noreferrer"},H={href:"https://ant.design/docs/spec/colors-cn",target:"_blank",rel:"noopener noreferrer"},M=p(`<p>该工具的使用方法也很简单，通过引入<code>generate</code>方法，传入一个颜色变量，可以生成由淡到深的 10 种颜色。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> generate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@ant-design/colors&#39;</span>

<span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token string">&#39;#1890ff&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span> <span class="token comment">// [&#39;#E6F7FF&#39;, &#39;#BAE7FF&#39;, &#39;#91D5FF&#39;, &#39;&#39;#69C0FF&#39;, &#39;#40A9FF&#39;, &#39;#1890FF&#39;, &#39;#096DD9&#39;, &#39;#0050B3&#39;, &#39;#003A8C&#39;, &#39;#002766&#39;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://image.liubing.me/i/2023/07/08/64a9692dcc015.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>下面以主题色<code>primaryColor</code>获取为例，其他颜色同理。设置主题色的时候我们通常只需要定义一个颜色，通过<code>generate</code>生成其他颜色，参考 Ant Design 官网的规律，<code>generate</code>生成的 10 个颜色中第 6 个是传入的颜色，Hover 颜色比主色谈一个档次，可以取第 5 个颜色，Native UI 的 Suppl 颜色和 Hover 颜色一致，Pressed 是点击后的颜色，比主色深一个档次，可以取第 7 个颜色。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token string">&#39;#1890ff&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> primaryColor <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment">// 主色取第6个颜色，和传入的颜色一致</span>
<span class="token keyword">const</span> primaryColorHover <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token comment">// Hover和Suppl颜色一样，取第5个颜色</span>
<span class="token keyword">const</span> primaryColorSuppl <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token comment">// Hover和Suppl颜色一样，取第5个颜色</span>
<span class="token keyword">const</span> primaryColorPressed <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token comment">// 比主色深一档，取第7个颜色</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样我们就能通过一个颜色获取到其他相关的颜色。</p><h2 id="简单-demo-实现" tabindex="-1"><a class="header-anchor" href="#简单-demo-实现" aria-hidden="true">#</a> 简单 Demo 实现</h2><p>按照以上的想法，我们可以先写一个简单的 Demo，用于主题色的换肤动态切换。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-config-provider</span> <span class="token attr-name">:theme-overrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>themeOverrides<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-card</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-row</span> <span class="token attr-name">gutter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-form</span> <span class="token attr-name">inline</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Primary Color<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-color-picker</span>
                <span class="token attr-name"><span class="token namespace">v-model:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primaryColor<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:show-alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
              <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-form-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-col</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-form</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-divider</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-space</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-space</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span><span class="token punctuation">&gt;</span></span>Default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">strong</span> <span class="token attr-name">secondary</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">tertiary</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">quaternary</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ghost</span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-space</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-space</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-divider</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color in generateColors<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ color }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ color }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-card</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-config-provider</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> generate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@ant-design/colors&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> type GlobalThemeOverrides <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;naive-ui&#39;</span>

<span class="token comment">// 定义一个主色</span>
<span class="token keyword">const</span> primaryColor <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;#52c41a&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// theme-overrides</span>
<span class="token keyword">const</span> themeOverrides <span class="token operator">=</span> ref<span class="token operator">&lt;</span>GlobalThemeOverrides<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// generate生成的颜色</span>
<span class="token keyword">const</span> generateColors <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token function">setThemeOverrides</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 设置theme-overrides</span>
<span class="token keyword">function</span> <span class="token function">setThemeOverrides</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  generateColors<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">generate</span><span class="token punctuation">(</span>primaryColor<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token keyword">const</span> commonColors <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">primaryColor</span><span class="token operator">:</span> generateColors<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">primaryColorHover</span><span class="token operator">:</span> generateColors<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">primaryColorSuppl</span><span class="token operator">:</span> generateColors<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">primaryColorPressed</span><span class="token operator">:</span> generateColors<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  themeOverrides<span class="token punctuation">.</span>value<span class="token punctuation">.</span>common <span class="token operator">=</span> commonColors
<span class="token punctuation">}</span>

<span class="token comment">// 监听主色变化</span>
<span class="token function">watch</span><span class="token punctuation">(</span>primaryColor<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setThemeOverrides</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="简单-demo-预览" tabindex="-1"><a class="header-anchor" href="#简单-demo-预览" aria-hidden="true">#</a> 简单 Demo 预览</h2><figure><img src="https://image.liubing.me/i/2023/07/09/64aa0f24f3303.gif" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="暗黑模式适配" tabindex="-1"><a class="header-anchor" href="#暗黑模式适配" aria-hidden="true">#</a> 暗黑模式适配</h2>`,12),B={href:"https://www.naiveui.com/zh-CN/light/docs/customize-theme#%E4%B8%8D%E5%90%8C%E4%B8%BB%E9%A2%98%E4%B8%8B%E8%B0%83%E6%95%B4%E4%B8%BB%E9%A2%98%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"},F=s("code",null,"theme-overrides",-1),z=s("code",null,"theme",-1),D=p(`<div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-config-provider</span> <span class="token attr-name">:theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theme<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:theme-overrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>themeOverrides<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-card</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-row</span> <span class="token attr-name">gutter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-form</span> <span class="token attr-name">inline</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Primary Color<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-color-picker</span>
                <span class="token attr-name"><span class="token namespace">v-model:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primaryColor<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:show-alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
              <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-form-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-col</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-form</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-space</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theme = darkTheme<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>深色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theme = null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>浅色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-space</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-divider</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-space</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-space</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span><span class="token punctuation">&gt;</span></span>Default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">strong</span> <span class="token attr-name">secondary</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">tertiary</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">quaternary</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ghost</span><span class="token punctuation">&gt;</span></span> Primary <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-space</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-space</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n-divider</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color in generateColors<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ color }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ color }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-card</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>n-config-provider</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> generate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@ant-design/colors&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  darkTheme<span class="token punctuation">,</span>
  commonDark<span class="token punctuation">,</span>
  type GlobalTheme<span class="token punctuation">,</span>
  type GlobalThemeOverrides
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;naive-ui&#39;</span>

<span class="token comment">// 主题，null为亮色，darkTheme为暗色</span>
<span class="token keyword">const</span> theme <span class="token operator">=</span> ref<span class="token operator">&lt;</span>GlobalTheme <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token comment">// 定义一个主色</span>
<span class="token keyword">const</span> primaryColor <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;#52c41a&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// theme-overrides</span>
<span class="token keyword">const</span> themeOverrides <span class="token operator">=</span> ref<span class="token operator">&lt;</span>GlobalThemeOverrides<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// generate生成的颜色</span>
<span class="token keyword">const</span> generateColors <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token function">setThemeOverrides</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 设置theme-overrides</span>
<span class="token keyword">function</span> <span class="token function">setThemeOverrides</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  generateColors<span class="token punctuation">.</span>value <span class="token operator">=</span> theme<span class="token punctuation">.</span>value
    <span class="token operator">?</span> <span class="token function">generate</span><span class="token punctuation">(</span>primaryColor<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// generate支持传入theme为dark生成暗黑色系</span>
        <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">&#39;dark&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">// 暗黑色系生成的背景色，这里可以传入主题暗黑模式下的背景色</span>
        <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> commonDark<span class="token punctuation">.</span>bodyColor
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">generate</span><span class="token punctuation">(</span>primaryColor<span class="token punctuation">.</span>value<span class="token punctuation">)</span>

  <span class="token keyword">const</span> commonColors <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">primaryColor</span><span class="token operator">:</span> generateColors<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">primaryColorHover</span><span class="token operator">:</span> generateColors<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">primaryColorPressed</span><span class="token operator">:</span> generateColors<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">primaryColorSuppl</span><span class="token operator">:</span> generateColors<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  themeOverrides<span class="token punctuation">.</span>value<span class="token punctuation">.</span>common <span class="token operator">=</span> commonColors
<span class="token punctuation">}</span>

<span class="token comment">// 监听primaryColor和theme</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>primaryColor<span class="token punctuation">,</span> theme<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setThemeOverrides</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="暗黑适配效果预览" tabindex="-1"><a class="header-anchor" href="#暗黑适配效果预览" aria-hidden="true">#</a> 暗黑适配效果预览</h2><figure><img src="https://image.liubing.me/i/2023/07/09/64aa1666198b7.gif" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="优化按钮-primary-按钮" tabindex="-1"><a class="header-anchor" href="#优化按钮-primary-按钮" aria-hidden="true">#</a> 优化按钮 Primary 按钮</h2><p>暗黑模式下 Primary 按钮文字是黑色的，感觉不是很协调，咋们保持和 Ant Design 的按钮一致，暗黑模式下文字也保持是白色，针对<code>Button</code>新增一些配置。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>themeOverrides<span class="token punctuation">.</span>value<span class="token punctuation">.</span>common <span class="token operator">=</span> commonColors
themeOverrides<span class="token punctuation">.</span>value<span class="token punctuation">.</span>Button <span class="token operator">=</span> <span class="token punctuation">{</span>
  textColorPrimary<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span><span class="token punctuation">,</span>
  textColorHoverPrimary<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span><span class="token punctuation">,</span>
  textColorPressedPrimary<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span><span class="token punctuation">,</span>
  textColorFocusPrimary<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span><span class="token punctuation">,</span>
  textColorDisabledPrimary<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样就比较完美了</p><figure><img src="https://image.liubing.me/i/2023/07/09/64aa18688fbf4.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="优化封装" tabindex="-1"><a class="header-anchor" href="#优化封装" aria-hidden="true">#</a> 优化封装</h2><p>以上只是针对主色进行换肤，还需要额外支持下<code>info</code>、<code>error</code>、<code>warning</code>、<code>success</code>的颜色自定义换肤，按通用颜色区分分别是<code>蓝色</code>，<code>红色</code>、<code>橘黄色</code>、<code>绿色</code>，为了更好的调用，我们可以通过<code>Pinia</code>去维护管理。</p><h2 id="themestore" tabindex="-1"><a class="header-anchor" href="#themestore" aria-hidden="true">#</a> ThemeStore</h2><p>我们创建一个简单的<code>ThemeStore</code>，定义一些需要的变量和方法，下面都有注释很好理解，重点是<code>getThemeOverrides</code>方法的实现，上面的 Demo 我们只是实现了一个传入<code>primaryColor</code>实现动态换肤，<code>getThemeOverrides</code>需要传入一个颜色配置<code>themeConfig</code>，里面包含了<code>primary</code> <code>info</code> <code>success</code> <code>warning</code> <code>error</code>这几个类型的颜色，具体实现这里不多说了，思路和上面是一样的，代码可以参考最后的源码。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getThemeOverrides<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">ThemeConfig</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./utils&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> darkTheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;naive-ui&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useThemeStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;theme&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/** 暗黑模式 */</span>
  <span class="token keyword">const</span> darkMode <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

  <span class="token comment">/** 主题配置 */</span>
  <span class="token keyword">const</span> themeConfig <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>ThemeConfig<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    primary<span class="token operator">:</span> <span class="token string">&#39;#18a058&#39;</span><span class="token punctuation">,</span>
    info<span class="token operator">:</span> <span class="token string">&#39;#2080f0&#39;</span><span class="token punctuation">,</span>
    success<span class="token operator">:</span> <span class="token string">&#39;#18a058&#39;</span><span class="token punctuation">,</span>
    warning<span class="token operator">:</span> <span class="token string">&#39;#f0a020&#39;</span><span class="token punctuation">,</span>
    error<span class="token operator">:</span> <span class="token string">&#39;#d03050&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">/** 主题 */</span>
  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>darkMode<span class="token punctuation">.</span>value <span class="token operator">?</span> darkTheme <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">/** 主题theme-overrides */</span>
  <span class="token keyword">const</span> themeOverrides <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 返回主题需要的ThemeOverrides，getThemeOverrides方法需要我们自己去实现</span>
    <span class="token keyword">return</span> <span class="token function">getThemeOverrides</span><span class="token punctuation">(</span>themeConfig<span class="token punctuation">.</span>value<span class="token punctuation">,</span> darkMode<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">/** 暗黑模式切换 */</span>
  <span class="token keyword">function</span> <span class="token function">toggleDarkMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    darkMode<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>darkMode<span class="token punctuation">.</span>value
  <span class="token punctuation">}</span>

  <span class="token comment">/** 手动设置主题 */</span>
  <span class="token keyword">function</span> <span class="token function">setThemeConfig</span><span class="token punctuation">(</span>config<span class="token operator">:</span> ThemeConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    themeConfig<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>themeConfig<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
      <span class="token operator">...</span>config
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    darkMode<span class="token punctuation">,</span>
    themeConfig<span class="token punctuation">,</span>
    theme<span class="token punctuation">,</span>
    themeOverrides<span class="token punctuation">,</span>
    toggleDarkMode<span class="token punctuation">,</span>
    setThemeConfig
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="适配跟随系统" tabindex="-1"><a class="header-anchor" href="#适配跟随系统" aria-hidden="true">#</a> 适配跟随系统</h2>`,14),E={href:"https://vueuse.org/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://vueuse.org/core/useColorMode/#usecolormode",target:"_blank",rel:"noopener noreferrer"},j=s("code",null,"useCycleList",-1),I=s("code",null,"next()",-1),U=s("code",null,"dark",-1),A=s("code",null,"light",-1),V=s("code",null,"auto",-1),L=s("code",null,"state",-1),R=s("code",null,"state",-1),G=s("code",null,"modeState",-1),W=p(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getThemeOverrides<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">ThemeConfig</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./utils&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> darkTheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;naive-ui&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useColorMode<span class="token punctuation">,</span> useCycleList<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">BasicColorSchema</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@vueuse/core&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useThemeStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;theme&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> colorMode <span class="token operator">=</span> <span class="token function">useColorMode</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    emitAuto<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> state<span class="token punctuation">,</span> next <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCycleList</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;dark&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;light&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;auto&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    initialValue<span class="token operator">:</span> colorMode
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">watch</span><span class="token punctuation">(</span>
    state<span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      colorMode<span class="token punctuation">.</span>value <span class="token operator">=</span> state<span class="token punctuation">.</span>value <span class="token keyword">as</span> BasicColorSchema
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> immediate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>

  <span class="token comment">/** 暗黑模式 */</span>
  <span class="token keyword">const</span> darkMode <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> system<span class="token punctuation">,</span> store <span class="token punctuation">}</span> <span class="token operator">=</span> colorMode
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;auto&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> system<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;dark&#39;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> store<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;dark&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">/** 暗黑模式切换 */</span>
  <span class="token keyword">function</span> <span class="token function">toggleDarkMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    darkMode<span class="token punctuation">,</span>
    themeConfig<span class="token punctuation">,</span>
    theme<span class="token punctuation">,</span>
    themeOverrides<span class="token punctuation">,</span>
    modeState<span class="token operator">:</span> state<span class="token punctuation">,</span>
    toggleDarkMode<span class="token punctuation">,</span>
    setThemeConfig
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="完整示例代码" tabindex="-1"><a class="header-anchor" href="#完整示例代码" aria-hidden="true">#</a> 完整示例代码</h2>`,2),$={href:"https://github.com/liub1934/naive-ui-change-theme",target:"_blank",rel:"noopener noreferrer"},J=s("h2",{id:"在线预览",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#在线预览","aria-hidden":"true"},"#"),n(" 在线预览")],-1),K={href:"https://github.liubing.me/naive-ui-change-theme",target:"_blank",rel:"noopener noreferrer"},Q=p('<h2 id="最终效果预览" tabindex="-1"><a class="header-anchor" href="#最终效果预览" aria-hidden="true">#</a> 最终效果预览</h2><figure><img src="https://image.liubing.me/i/2023/07/12/64aeac3cd7296.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><figure><img src="https://image.liubing.me/i/2023/07/12/64aeac1a37e64.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="搭配-unocss" tabindex="-1"><a class="header-anchor" href="#搭配-unocss" aria-hidden="true">#</a> 搭配 UnoCSS</h2>',4),X={href:"https://github.com/liub1934/naive-ui-change-theme/blob/main/src/utils/theme.ts#L184",target:"_blank",rel:"noopener noreferrer"},Y=s("figure",null,[s("img",{src:"https://image.liubing.me/i/2023/07/29/64c49152d038e.png",alt:"image",tabindex:"0",loading:"lazy"}),s("figcaption",null,"image")],-1),Z=s("h3",{id:"自定义-rules",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#自定义-rules","aria-hidden":"true"},"#"),n(" 自定义 Rules")],-1),nn={href:"https://unocss.dev/config/rules",target:"_blank",rel:"noopener noreferrer"},sn=s("code",null,"color-primary",-1),an=s("code",null,"bg-primary",-1),tn=s("code",null,"color-primary-2",-1),pn=p(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// uno.config.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;unocss&#39;</span>
<span class="token keyword">import</span> presetUno <span class="token keyword">from</span> <span class="token string">&#39;@unocss/preset-uno&#39;</span>

<span class="token comment">// 正则</span>
<span class="token keyword">const</span> colorNameReg <span class="token operator">=</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(color|bg|bg-color|border)-(primary|info|success|warning|error)(-(hover|pressed|focus|disabled|[1-9]|10))?$</span><span class="token regex-delimiter">/</span></span>

<span class="token comment">// 缩写映射</span>
<span class="token keyword">const</span> colorNameMap <span class="token operator">=</span> <span class="token punctuation">{</span>
  bg<span class="token operator">:</span> <span class="token string">&#39;background&#39;</span><span class="token punctuation">,</span>
  border<span class="token operator">:</span> <span class="token string">&#39;border-color&#39;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;bg-color&#39;</span><span class="token operator">:</span> <span class="token string">&#39;background-color&#39;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">presetUno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      colorNameReg<span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token punctuation">[</span>_<span class="token punctuation">,</span> type<span class="token punctuation">,</span> color<span class="token punctuation">,</span> state<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token punctuation">[</span>colorNameMap<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">||</span> type<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">rgba(var(--n-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-color</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>
          state <span class="token operator">||</span> <span class="token string">&#39;&#39;</span>
        <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">), var(--un-text-opacity, 1))</span><span class="token template-punctuation string">\`</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h3><p>支持 color、background、background-color、border-color 及透明度。</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token comment">/* text-primary */</span>
<span class="token selector">.text-primary</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n-primary-color<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--un-text-opacity<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* text-primary-hover */</span>
<span class="token selector">.text-primary-hover</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n-primary-color-hover<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--un-text-opacity<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* color-primary-1 */</span>
<span class="token selector">.color-primary-1</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n-primary-color-1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--un-text-opacity<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* border-primary */</span>
<span class="token selector">.border-primary</span> <span class="token punctuation">{</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n-primary-color<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--un-text-opacity<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* bg-primary */</span>
<span class="token selector">.bg-primary</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n-primary-color<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--un-text-opacity<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* bg-color-primary */</span>
<span class="token selector">.bg-color-primary</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--n-primary-color<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--un-text-opacity<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function on(en,cn){const e=o("RouterLink"),t=o("ExternalLinkIcon");return l(),i("div",null,[d,s("p",null,[n("之前因为项目需要，实现了 Ant Vue 的自定义换肤并记录了下实现过程"),a(e,{to:"/article/vue/ant-design-vue/ant-design-vue-change-theme.html"},{default:u(()=>[n("Ant Vue 1.x 动态自定义换肤")]),_:1}),n("，后来新项目采用"),s("a",v,[n("Naive UI"),a(t)]),n("，也就自己摸索着实现一下自定义换肤，顺便自己记录一下。")]),r(" more "),m,s("p",null,[n("自定义换肤一般都优先查看文档中的"),s("a",g,[n("调整主题"),a(t)]),n("，文档说明可以通过设定 "),b,n(" 的 "),q,n(" 来调整主题变量，如下所示：")]),h,s("p",null,[y,n("支持配置哪些主题变量，可以通过"),s("a",f,[n("创建适配主题的组件"),a(t)]),n("文档中"),C,n("说明，里面包含了常见的主题变量。")]),w,s("p",null,[n("通过上述的主题颜色变量和源码"),s("a",_,[n("_styles/common/light.ts"),a(t)]),n("，我们可以很清楚的知道主题颜色通过下面的几个颜色变量控制的。")]),x,s("p",null,[n("好在 Naive UI 颜色变量比较简洁，每种颜色只需要定义 4 个变量即可，我们完全可以通过定义 4 个不同的颜色来达到目的，但是通常我们需要学会“偷懒”，借助其他方法来定义一个颜色，分别获取另外的"),S,n(),T,n(),P,n("颜色。这里可以通过之前用到的"),s("a",O,[n("ant-design-colors"),a(t)]),n("工具，用过 Ant 的应该都知道，Ant Design 整体色系也是由该工具生成的，具体颜色说明可以参考 Ant Design 官网"),s("a",H,[n("文档说明"),a(t)]),n("。")]),M,s("p",null,[n("Naive UI 是支持暗黑模式的，所以换肤后也是需要进行暗黑模式的适配，我们可以参考文档中的"),s("a",B,[n("不同主题下调整主题变量"),a(t)]),n("，"),F,n("根据"),z,n("的不同传入正常颜色和暗黑颜色，添加深色和浅色按钮，用于演示。")]),D,s("p",null,[n("借助"),s("a",E,[n("VueUse"),a(t)]),n("工具提供的"),s("a",N,[n("useColorMode"),a(t)]),n("方法可以轻松实现。稍微改造下上面的内容。暗黑模式切换使用"),j,n("提供的内置方法"),I,n("，依次在"),U,n(),A,n(),V,n("循环切换，变化的值可以通过"),L,n("获取到，可以将"),R,n("做为"),G,n("导出，方便其他地方使用。")]),W,s("p",null,[s("a",$,[n("https://github.com/liub1934/naive-ui-change-theme"),a(t)])]),J,s("p",null,[s("a",K,[n("https://github.liubing.me/naive-ui-change-theme"),a(t)])]),Q,s("p",null,[n("为了配合 UnoCSS 使用，这里特意通过"),s("a",X,[n("addCssVarsToHtml"),a(t)]),n("方法将生成的所有变量都添加到了 Html 上。")]),Y,Z,s("p",null,[n("可以利用 UnoCSS 提供的自定义"),s("a",nn,[n("rules"),a(t)]),n("功能，在我们输入相应的颜色 class 的时候，自动生成相应的 css，比如输入"),sn,n("，文字颜色就会变成主色，输入"),an,n("，背景色就会变成主色，输入"),tn,n("，文字颜色就会变成色系里面的第二个颜色，按照此规律以此类推。")]),pn])}const un=c(k,[["render",on],["__file","naive-ui-custom-theme.html.vue"]]);export{un as default};
